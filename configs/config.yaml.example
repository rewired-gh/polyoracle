# Poly Oracle Configuration Example
# Copy this file to config.yaml and adjust values as needed
#
# This configuration is optimized for daily use - it extracts high-value signals
# from Polymarket while avoiding notification flood. The defaults focus on:
# - Significant events with real market activity (volume filtering)
# - Meaningful probability changes (not minor fluctuations)
# - Digestible notifications (3-5 key events per cycle)
#
# Based on real Polymarket API analysis (see docs/configuration-experiment-results.md):
# - Top 14% of events by volume contain 70% of total market activity
# - Probabilities are stable over short periods (meaningful changes happen over hours)
# - Geopolitics/tech/finance have lower volume than sports, but higher insight value
# - Expect ~5-15 monitored events (these are niche categories)

# Polymarket API configuration
polymarket:
  gamma_api_url: "https://gamma-api.polymarket.com"
  clob_api_url: "https://clob.polymarket.com"
  poll_interval: 1h                                  # Poll every hour (matches notification rhythm)
  categories:                                        # Only the categories you care about
    - geopolitics
    - tech
    - finance
  # Volume filtering (logical OR): Include event if ANY volume threshold is met
  # Lower thresholds for geopolitics/tech/finance (these are lower-volume categories)
  # Ensures we capture quality events in your specific areas of interest
  volume_24hr_min: 1000.0       # $1K minimum (captures active markets in these categories)
  volume_1wk_min: 5000.0        # $5K weekly volume (sustained interest)
  volume_1mo_min: 10000.0       # $10K monthly volume (established markets)
  volume_filter_or: true        # true = OR (union), false = AND (intersection)
  limit: 200                    # Fetch enough events to find quality signals
  timeout: 30s                  # API request timeout

# Monitoring behavior configuration
monitor:
  threshold: 0.05        # 5% change threshold (sensitive but not noisy)
  window: 1h             # 1-hour time window (matches poll interval)
  top_k: 5               # Top 5 events per notification (digestible amount)
  enabled: true          # Enable monitoring

# Telegram notification configuration
telegram:
  bot_token: "YOUR_BOT_TOKEN_HERE"  # Get from @BotFather on Telegram
  chat_id: "YOUR_CHAT_ID_HERE"      # Get from @userinfobot on Telegram
  enabled: true                     # Enable Telegram notifications

# Storage and persistence configuration
storage:
  max_events: 1000                          # Maximum events to track in memory
  max_snapshots_per_event: 24               # 24 hours of hourly snapshots
  max_file_size_mb: 100                     # Maximum persistence file size in MB
  persistence_interval: 1h                  # Save to disk every hour (matches poll interval)
  file_path: ""                             # Empty = use OS tmp dir (/tmp/poly-oracle/data.json on macOS/Linux)
  data_dir: ""                              # Empty = use OS tmp dir

# Logging configuration
logging:
  level: "info"    # Log level: debug, info, warn, error
  format: "json"   # Log format: json, text

# Environment variables can override any value:
# POLY_ORACLE_TELEGRAM_BOT_TOKEN=your_token
# POLY_ORACLE_TELEGRAM_CHAT_ID=your_chat_id
# POLY_ORACLE_MONITOR_THRESHOLD=0.05
# POLY_ORACLE_POLYMARKET_POLL_INTERVAL=1h
